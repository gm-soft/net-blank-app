<app-page-header>
  <div class="app-page-header-label">
    <b *ngIf="user != null">{{ user.fullName }}</b
    >'s' skills
  </div>
</app-page-header>

<div class="container">
  <div class="card">
    <div class="card-body">
      <div class="card-title h5">Primary skill</div>
      <div class="pb-3">
        <div class="my-2">
          Primary skill is your main skill. If you perform Teamlead role now, you should set this skill as your primary
          one. When you set a correct set of skills, your Project manager understands what resources has.
        </div>
        <div class="mb-3" *ngIf="allSkills?.length > 0">
          <input
            placeholder="Type skill name to search"
            [(ngModel)]="primarySelected"
            [typeahead]="allSkills"
            typeaheadOptionField="name"
            [typeaheadSingleWords]="true"
            [typeaheadScrollable]="true"
            (typeaheadOnSelect)="onPrimarySkillSelect($event)"
            [typeaheadMinLength]="0"
            class="form-control"
          />
          <small class="text-muted">Only one primary skill is allowed</small>
        </div>

        <div class="text-center h4" *ngIf="primarySkill != null">
          <app-skill [skill]="primarySkill" [removable]="true" (delete)="removeSkill($event)"></app-skill>
        </div>
      </div>
    </div>
  </div>

  <div class="card mt-3">
    <div class="card-body">
      <div class="card-title h5">Secondary skills</div>
      <div class="pb-3">
        <div class="my-2">
          Secondary skill is your additional skill. If you you know .NET and/or DevOps and/or Frontend, feel free to add
          those skills here.
        </div>
        <div class="mb-3" *ngIf="allSkills?.length > 0">
          <input
            placeholder="Type skill name to search"
            [(ngModel)]="secondarySelected"
            [typeahead]="allSkills"
            typeaheadOptionField="name"
            [typeaheadSingleWords]="true"
            [typeaheadScrollable]="true"
            (typeaheadOnSelect)="onSecondarySkillSelect($event)"
            [typeaheadMinLength]="0"
            class="form-control"
            [disabled]="this.secondarySkills.length >= this.secondarySkillsMaxCount"
          />
          <small class="text-muted">Only {{ secondarySkillsMaxCount }} of secondary skills are allowed</small>
        </div>

        <div class="text-center h4">
          <app-skill
            *ngFor="let skill of secondarySkills"
            [skill]="skill"
            [removable]="true"
            (delete)="removeSkill($event)"
          ></app-skill>
        </div>
      </div>
    </div>
  </div>

  <div class="mt-3 card card-body">
    <div class="mb-3">
      <small class="text-muted">You are free to remove all skills and save the empty collection.</small>
    </div>
    <div class="d-flex justify-content-between">
      <app-go-back-button></app-go-back-button>

      <div class="d-inline-block">
        <button class="btn btn-outline-secondary" (click)="clear()" title="Remove all skills">
          Clear all
        </button>
        <button class="ml-3 btn btn-outline-secondary" (click)="reset()" title="Reset skills to an original set">
          Reset
        </button>
        <button class="ml-3 btn btn-outline-primary" (click)="save()" title="Save the current set of skills">
          Save
        </button>
      </div>
    </div>
  </div>
</div>
