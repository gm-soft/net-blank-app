<app-page-header>
  <div class="app-page-header-label">Month work hours</div>
</app-page-header>

<div class="container mt-3">
  <div class="w-100 d-flex justify-content-between">
    <div class="text-muted d-inline-block">
      <div>
        Month work hours is an entity to store workdays count per months. The workday is used to calculate project costs
        correctly.
        <br />
        Also, here we store special work days (when the Sunday/Saturday is a workday) and Special holidays.
      </div>
      <div class="mt-2">
        If there is no Month Work hours for a necessary range, the system will calculate calendar weekdays and weekends.
      </div>
    </div>

    <div class="d-inline-block">
      <a class="btn btn-outline-primary my-2 my-sm-0" routerLink="/admin/month-work-hours/create">Create</a>
    </div>
  </div>

  <div class="mt-3" *ngIf="monthWorkHoursModels != null; else noModels">
    <ul ngbNav #nav="ngbNav" class="nav-tabs" [(activeId)]="active">
      <li [ngbNavItem]="group.key" *ngFor="let group of monthWorkHoursModels | keyvalue: keyDescOrder">
        <a ngbNavLink>{{ group.key }}</a>
        <ng-template ngbNavContent>
          <table
            class="table table-striped table-bordered table-hover table-sm"
            *ngIf="group.value.length > 0; else noModels"
          >
            <thead>
              <tr>
                <th scope="col">#</th>
                <th>Work Hours</th>
                <th>Work Days</th>
                <th>Month/Year</th>
              </tr>
            </thead>
            <tbody>
              <tr
                *ngFor="let item of group.value; let i = index"
                [routerLink]="[item.id]"
                title="Edit the Month Work Hours"
              >
                <th scope="row">{{ i + 1 }}</th>
                <td>{{ item.hours }} hours</td>
                <td>{{ item.days }} days</td>
                <td>
                  <div title="Date">{{ months[item.month] }} {{ item.year }}</div>
                </td>
              </tr>
            </tbody>
          </table>
        </ng-template>
      </li>
    </ul>

    <div [ngbNavOutlet]="nav" class="table-responsive"></div>
  </div>
  <ng-template #noModels>
    <app-nothing-to-show-label></app-nothing-to-show-label>
  </ng-template>
</div>
